<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Simulateur d'Impact NIRD</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles2.css">
</head>
<body>

<header>
    <h1>üí∞ Simulateur d'Impact & D√©fis</h1>
    <p>Visualisez l'impact financier, √©cologique et technologique de l'approche NIRD.</p>
</header>

<main class="main-content">

    <section class="section" id="section-simulateur">
        <h2>Simuler Mon Impact : Co√ªt vs. Durabilit√©</h2>
        <p>
            Entrez les param√®tres ci-dessous pour comparer l'approche "Remplacement Standard" (Big Tech) avec l'approche "R√©emploi et Logiciels Libres" (NIRD).
        </p>

        <div class="interactive-simulation">
            <label for="nb_machines">Nombre d'ordinateurs √† renouveler (ou sauver) :</label>
            <input type="number" id="nb_machines" value="50" min="10" max="500" oninput="runSimulation()">
            
            <label for="cost_neuf">Co√ªt moyen estim√© d'un poste neuf (en ‚Ç¨) :</label>
            <input type="number" id="cost_neuf" value="1000" min="500" oninput="runSimulation()">
            
            <button class="btn btn-simulate" onclick="runSimulation()">Lancer l'Analyse d'Impact</button>

            <div id="simulation-results" class="feedback-box">
                <p class="initial-message">Renseignez les champs pour comparer les sc√©narios !</p>
            </div>
        </div>
    </section>
    
    <hr>
    
    <section class="section" id="section-defi">
        <h2>üöß Le Grand D√©fi Num√©rique : Choisir la R√©silience</h2>
        <p>
            **Mise en situation :** Votre collectivit√© doit d√©cider du sort de 80 postes encore fonctionnels mais incompatibles avec les derni√®res exigences logicielles (Windows 11). Le budget du renouvellement total est de 80 000‚Ç¨.
        </p>
        
        <h3>Votre D√©cision :</h3>
        <div id="challenge-options" class="choice-group">
            <button onclick="handleChallenge(1)" class="btn-choice ko">1. Remplacer les 80 machines par du neuf (80 000‚Ç¨)</button>
            <button onclick="handleChallenge(2)" class="btn-choice ok">2. Installer Linux et reconditionner les 80 machines (Co√ªt NIRD estim√© √† 8 000‚Ç¨)</button>
        </div>
        
        <div id="challenge-feedback" class="feedback-box hidden"></div>

    </section>

</main>

<script>
    // --- Logique du Simulateur d'Impact ---
    function runSimulation() {
        const nbMachines = parseInt(document.getElementById('nb_machines').value);
        const costNeuf = parseInt(document.getElementById('cost_neuf').value);
        const resultsDiv = document.getElementById('simulation-results');

        if (isNaN(nbMachines) || nbMachines < 10 || isNaN(costNeuf) || costNeuf < 500) {
            resultsDiv.innerHTML = '<p class="error">Veuillez entrer des valeurs valides (min. 10 machines, min. 500‚Ç¨/poste neuf).</p>';
            resultsDiv.className = 'feedback-box error';
            return;
        }

        // Sc√©nario 1 : Remplacement Standard (Big Tech)
        const costStandard = nbMachines * costNeuf;
        
        // Sc√©nario 2 : Approche NIRD (R√©emploi/Linux)
        // Estimation : Co√ªt de r√©emploi (technicien, quelques pi√®ces) = 10% du co√ªt neuf
        const costReemploiUnit = costNeuf * 0.10; 
        const costNird = nbMachines * costReemploiUnit;
        
        const economies = costStandard - costNird;
        
        const formattedCostStandard = costStandard.toLocaleString('fr-FR', { style: 'currency', currency: 'EUR' });
        const formattedCostNird = costNird.toLocaleString('fr-FR', { style: 'currency', currency: 'EUR' });
        const formattedEconomies = economies.toLocaleString('fr-FR', { style: 'currency', currency: 'EUR' });

        resultsDiv.className = 'feedback-box success';
        resultsDiv.innerHTML = `
            <h3>Analyse d'Impact pour ${nbMachines} machines :</h3>
            <div class="result-grid">
                <div>
                    <h4>Sc√©nario 1 : Remplacement Classique</h4>
                    <p>Co√ªt Total d'Achat : <strong>${formattedCostStandard}</strong></p>
                    <p class="detail">D√©pendance renforc√©e, Impact carbone √©lev√©.</p>
                </div>
                <div>
                    <h4>Sc√©nario 2 : Approche NIRD (R√©emploi/Linux)</h4>
                    <p>Co√ªt Total R√©emploi : <strong>${formattedCostNird}</strong></p>
                    <p class="detail">Autonomie technologique, Prolonge la vie du mat√©riel.</p>
                </div>
            </div>
            <p class="conclusion">
                En adoptant l'approche NIRD, votre institution r√©alise une √©conomie estim√©e de 
                <strong>${formattedEconomies}</strong> et sauve ${nbMachines} ordinateurs de l'obsolescence.
            </p>
        `;
    }

    // Logique du D√©fi Interactif
    function handleChallenge(choice) {
        const feedbackBox = document.getElementById('challenge-feedback');
        feedbackBox.classList.remove('hidden');

        if (choice === 1) {
            feedbackBox.innerHTML = `
                <h3>‚ùå Impact N√©gatif : D√©pendance et Co√ªt √âlev√©</h3>
                <p>En choisissant le remplacement, la collectivit√© s'endette de 80 000‚Ç¨, g√©n√®re des d√©chets √©lectroniques inutiles et s'engage sur un cycle de d√©pendance qui se r√©p√©tera dans quelques ann√©es. **Ce n'est pas une d√©marche durable.**</p>
            `;
            feedbackBox.style.backgroundColor = '#f8d7da'; // Rouge clair
        } else if (choice === 2) {
            feedbackBox.innerHTML = `
                <h3>‚úÖ Impact Positif : R√©silience et √âconomie</h3>
                <p><strong>F√©licitations !</strong> En investissant dans le reconditionnement sous Linux (8 000‚Ç¨), vous √©conomisez 72 000‚Ç¨, prolongez la vie du mat√©riel et engagez l'√©tablissement vers l'autonomie. **C'est le principe du NIRD.**</p>
            `;
            feedbackBox.style.backgroundColor = '#d4edda'; // Vert clair
        }
        
        // Afficher clairement le feedback
        feedbackBox.scrollIntoView({ behavior: 'smooth' });
    }

    // Lancer la simulation au chargement
    document.addEventListener('DOMContentLoaded', runSimulation); 
</script>
</body>
<footer>
    <a href="institutions.html" class="link-secondary">Retour √† l'Espace Institutions</a>
    <p class="mt-3">&copy; 2025 Le Village Num√©rique Libre et Durable. Tous droits r√©serv√©s.</p>
</footer>
</html>